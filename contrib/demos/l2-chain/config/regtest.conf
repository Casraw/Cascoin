# =============================================================================
# Cascoin L2 Demo - Regtest Konfiguration
# =============================================================================
#
# Diese Konfigurationsdatei enthält alle relevanten Optionen für den Betrieb
# einer L2-Demo-Chain im Regtest-Modus mit dem Burn-and-Mint Token Model.
#
# Burn-and-Mint Model:
#   - CAS wird auf L1 via OP_RETURN verbrannt (kryptographisch sicher)
#   - L2-Tokens werden nach 2/3 Sequencer-Konsens gemintet
#   - L2 Token Supply = Verbrannte CAS (1:1 Backing)
#   - Sequencer Rewards kommen nur aus Transaction Fees (keine Inflation)
#
# Verwendung:
#   cascoind -regtest -conf=/pfad/zu/regtest.conf
#
# Oder kopieren nach ~/.cascoin/cascoin.conf
#
# Requirements: 1.4, 11.5
# =============================================================================

# =============================================================================
# Netzwerk-Modus
# =============================================================================

# Regtest-Modus aktivieren (isoliertes Testnetzwerk)
regtest=1

# =============================================================================
# Layer 2 Konfiguration
# =============================================================================

# L2-Funktionalität aktivieren
# Werte: 0 = deaktiviert, 1 = aktiviert
# Standard: 0
l2=1

# L2 Node-Modus
# Werte: 0 = deaktiviert, 1 = Light Client, 2 = Full Node
# Light Client: Validiert nur Block-Header und Merkle-Proofs
# Full Node: Vollständige Validierung aller L2-Transaktionen
# Standard: 2 (Full Node)
l2mode=2

# L2 Chain ID
# Eindeutige Kennung für die L2-Chain
# Standard: 1001 (Cascoin L2 Mainnet)
# Für Regtest wird automatisch eine Test-Chain-ID verwendet
# l2chainid=1001

# =============================================================================
# Server & RPC Konfiguration
# =============================================================================

# JSON-RPC Server aktivieren
server=1

# RPC-Authentifizierung
# WICHTIG: In Produktion sichere Passwörter verwenden!
rpcuser=demo
rpcpassword=demo

# RPC-Zugriff erlauben
# Für lokale Entwicklung: nur localhost
rpcallowip=127.0.0.1

# RPC-Port (Standard für Regtest: 19443)
# rpcport=19443

# RPC-Bind-Adresse
# rpcbind=127.0.0.1

# =============================================================================
# Wallet Konfiguration
# =============================================================================

# Wallet aktivieren
# disablewallet=0

# Fallback-Gebühr für Transaktionen ohne Gebührenschätzung
# Wichtig für Regtest, da keine Transaktionshistorie vorhanden
fallbackfee=0.0001

# Mindestgebühr für Relay
# minrelaytxfee=0.00001

# =============================================================================
# Mining Konfiguration (Regtest)
# =============================================================================

# Mining-Algorithmus
# Werte: sha256d, minotaurx
# Standard: sha256d
# powalgo=sha256d

# =============================================================================
# Netzwerk & P2P Konfiguration
# =============================================================================

# Keine externen Verbindungen im Regtest
# listen=0

# DNS-Seeding deaktivieren (nicht nötig für Regtest)
dnsseed=0

# Keine Peers suchen
# addnode=

# =============================================================================
# Logging & Debug
# =============================================================================

# Debug-Kategorien aktivieren
# Verfügbare Kategorien: net, tor, mempool, http, bench, zmq, db, rpc, 
#                        estimatefee, addrman, selectcoins, reindex, 
#                        cmpctblock, rand, prune, proxy, mempoolrej, 
#                        libevent, coindb, qt, leveldb, l2
# debug=l2

# Log-Timestamps aktivieren
logtimestamps=1

# Log-Datei (relativ zum Datenverzeichnis)
# debuglogfile=debug.log

# =============================================================================
# Speicher & Performance
# =============================================================================

# Maximale Mempool-Größe in MB
# maxmempool=300

# Datenbank-Cache in MB
# dbcache=450

# =============================================================================
# L2-spezifische Parameter (Fortgeschritten)
# =============================================================================

# Diese Parameter werden normalerweise nicht geändert, sind aber für
# fortgeschrittene Konfigurationen verfügbar.

# Minimaler HAT-Score für Sequencer-Berechtigung
# Standard: 50
# l2minsequencerhatscore=50

# Minimaler Stake für Sequencer in CAS
# Standard: 10 CAS
# l2minsequencerstake=10

# Blöcke pro Leader-Rotation
# Standard: 10
# l2blocksperleader=10

# Leader-Timeout in Sekunden
# Standard: 30
# l2leadertimeout=30

# Ziel-Blockzeit in Millisekunden
# Standard: 500 (0.5 Sekunden)
# l2targetblocktime=500

# Maximales Gas pro Block
# Standard: 30000000 (30M)
# l2maxblockgas=30000000

# Standard Challenge-Periode in Sekunden
# Standard: 604800 (7 Tage)
# l2challengeperiod=604800

# Schnelle Challenge-Periode für hohe HAT-Scores
# Standard: 3600 (1 Stunde)
# l2fastchallengeperiod=3600

# HAT-Schwellenwert für schnelle Withdrawals
# Standard: 80
# l2fastwithdrawalhatscore=80

# Konsens-Schwellenwert in Prozent (für Burn-and-Mint)
# Standard: 67 (2/3 Mehrheit)
# l2consensusthreshold=67

# =============================================================================
# Burn-and-Mint Konsens Parameter
# =============================================================================

# Minimale L1-Bestätigungen bevor Konsens startet
# Standard: 6
# l2burnconfirmations=6

# Konsens-Timeout in Sekunden
# Standard: 600 (10 Minuten)
# l2consensustimeout=600

# Minimale Anzahl aktiver Sequencer für Konsens
# Standard: 3
# l2minsequencers=3

# =============================================================================
# Beispiel-Konfigurationen für verschiedene Szenarien
# =============================================================================

# --- Minimale Konfiguration für schnelle Tests ---
# regtest=1
# l2=1
# server=1
# rpcuser=test
# rpcpassword=test
# fallbackfee=0.0001

# --- Entwickler-Konfiguration mit Debug-Logging ---
# regtest=1
# l2=1
# l2mode=2
# server=1
# rpcuser=dev
# rpcpassword=dev
# fallbackfee=0.0001
# debug=l2
# debug=rpc
# logtimestamps=1

# --- Light Client Konfiguration ---
# regtest=1
# l2=1
# l2mode=1
# server=1
# rpcuser=light
# rpcpassword=light
# fallbackfee=0.0001

# --- Burn-and-Mint Demo Konfiguration ---
# regtest=1
# l2=1
# l2mode=2
# server=1
# rpcuser=demo
# rpcpassword=demo
# fallbackfee=0.0001
# debug=l2
# # Burn-and-Mint spezifisch:
# # l2burnconfirmations=6
# # l2consensusthreshold=67
# # l2consensustimeout=600

# =============================================================================
# Ende der Konfiguration
# =============================================================================
